
{% extends "Admin_base.html.twig"%}
{% block title %} Repas {% endblock %}
{% block container %}
    <div class="container mt-5">
      <div class="row tm-content-row">
        <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8 tm-block-col">
          <div class="tm-bg-primary-dark tm-block tm-block-products">
            <div class="tm-product-table-container">
              <table class="table table-hover tm-table-small tm-product-table">
                <thead>
                  <tr>
                    
                    <th scope="col">PRODUCT NAME</th>
                    <th scope="col">PRICE</th>
                    <th scope="col">STOCK</th>
                    <th scope="col">CATEGORIE</th>
                    <th scope="col">DESCRIPTION</th>
                    <th scope="col">&nbsp;</th>
                    <th scope="col">&nbsp;</th>
                  </tr>

 

                </thead>
                <tbody>
                {% for repa in repas %}
                  <tr>
                    
                    <td class="tm-product-name">{{repa.libProd }} </td>
                    <td>{{repa.prixProd }}$</td>
                    <td>{{repa.quantiteDispo}}</td>
                    <td>{{repa.categorie}}</td>
                    <td>{{repa.description|raw}}</td>
                    <td>
                      <a href="{{ path('editRepa',{'id':repa.id}) }}" class="tm-product-delete-link">
                        <i class="fas fa-edit tm-product-delete-icon"></i>
                      </a>
                    </td>
                    
                    <td>
                      <a href="{{ path('deleteRepa',{'id':repa.id}) }}" class="tm-product-delete-link">
                        <i class="far fa-trash-alt tm-product-delete-icon "></i>
                      </a>
                    </td>
                  </tr>
                  {% endfor %}
        
                </tbody>
              </table>
            </div>
            <!-- table container -->
            <a
              href="{{ path('addRepa') }}"
              class="btn btn-primary btn-block text-uppercase mb-3">Add new product</a>
                   {% for message in app.flashes('repa_add') %}
                    <div class="w3-container w3-green col-lg-4">
                   
                   <div class="flash mt-3 flash-success">
 
                    <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
                    {{ message }}
                      </div>
                      <br>
                      </div>
                {% endfor %} 
                                   
                {% for message in app.flashes('repa_update') %}
                <div class="w3-container w3-blue col-lg-4">
                <br>
                   <div class="flash">
  
                  <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>
                    {{ message }}
                     </div>
                     <br>
                    </div>
                {% endfor %} 

                {% for message in app.flashes('repa_delete') %}
                <div class="w3-container w3-red col-lg-4">
               
                   <div class="flash mt-3 flash-error">
  
                  <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M4.47.22A.75.75 0 015 0h6a.75.75 0 01.53.22l4.25 4.25c.141.14.22.331.22.53v6a.75.75 0 01-.22.53l-4.25 4.25A.75.75 0 0111 16H5a.75.75 0 01-.53-.22L.22 11.53A.75.75 0 010 11V5a.75.75 0 01.22-.53L4.47.22zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5H5.31zM8 4a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 018 4zm0 8a1 1 0 100-2 1 1 0 000 2z"></path></svg>
                  {{ message }}
                  </div>
                     <br>
                    </div>
                {% endfor %}

          </div>

          
        </div>
        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4 tm-block-col">
          <div class="tm-bg-primary-dark tm-block tm-block-product-categories">
            <h2 class="tm-block-title">Product Categories</h2>
            <div class="tm-product-table-container">
              <table class="table tm-table-small tm-product-table">
                <tbody>
                  {% for categorie in categories  %}
               {% if categorie.categorie != "autre"  %}
                  <tr>
                    <td class="tm-product-name">{{ categorie.categorie }}</td>
                    <td class="text-center">
                      <a href="{{ path('deleteCategorie',{'id':categorie.id}) }}" class="tm-product-delete-link">
                        <i class="far fa-trash-alt tm-product-delete-icon"></i>
                      </a>
                    </td>
                  </tr>
                 {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            </div>
            <!-- table container -->
                        <a
              href="{{ path('addCategorie') }}"
              class="btn btn-primary btn-block text-uppercase mb-3">Add new category</a>
                  
 
                   {% for message in app.flashes('cat_add') %}
                   <div class="w3-container w3-green">
                   <div class="flash mt-3 flash-success">
 
                    <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>
                    {{ message }}
                      </div>
                      <br>
                      </div>
   
                {% endfor %}
                {% for message in app.flashes('cat_delete') %}
                <div class="w3-container w3-red">
                   <div class="flash mt-3 flash-error">
  
                  <svg class="octicon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M4.47.22A.75.75 0 015 0h6a.75.75 0 01.53.22l4.25 4.25c.141.14.22.331.22.53v6a.75.75 0 01-.22.53l-4.25 4.25A.75.75 0 0111 16H5a.75.75 0 01-.53-.22L.22 11.53A.75.75 0 010 11V5a.75.75 0 01.22-.53L4.47.22zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5H5.31zM8 4a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 018 4zm0 8a1 1 0 100-2 1 1 0 000 2z"></path></svg>
                  {{ message }}
                  </div>
                  <br>
                  </div>
                {% endfor %}
                 
          </div>
        </div>
      </div>
    </div>
{% endblock %}