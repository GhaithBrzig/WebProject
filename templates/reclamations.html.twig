{% extends "base.html.twig" %}
{% block title %} Reclamations {% endblock %}
{% block container %}


<div class="container mt-5">
    <div class="row tm-content-row justify-content-center">
      <div class="col-sm-15 col-md-15 col-lg-10 col-xl-10 tm-block-col">
        <div class="tm-bg-primary-dark tm-block tm-block-products">
          <div class="tm-product-table-container">
            <table class="table table-hover tm-table-small tm-product-table">
              <thead>
                <tr>
                 
                  <th scope="col">Client Name</th>
                  <th scope="col">Client Email</th>
                  <th scope="col">Description</th>
                  <th scope="col">Date</th>
                  <th scope="col">Is Solved</th>
                  <th scope="col">Delete</th>
                  <th scope="col">Solve</th>
                  <th scope="col">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                <tr {% for r in reclamations %}>
                  <td> {{r.nomclient}} </td>
                  <td> {{r.emailclient}} </td>
                  <td> {{r.description|length > 15 ? r.description|slice(0, 15) ~ '...' : r.description}} </td>
                  <td> {{r.date.format('d/m/Y')}} </td>
                  {% if r.issolved %}
                  <td style="text-align:center"> <i class="fas fa-light fa-check" style='font-size:20px;color:rgb(0, 255, 0)'></i></td>
                  {% else %}
                  <td style="text-align:center"><i class="fas fa-times" style='font-size:20px;color:red'></i></td>
                  {% endif %}
                  <td style="text-align:center">
                    <a href="{{ path('Delr',{'id':r.id}) }}">
                      <i class="far fa-trash-alt tm-product-delete-icon" style='font-size:20px;color:red'></i>
                    </a>
                  </td>
                  {% if (r.issolved == 0) %}
                  <td style="text-align:center">
                    <a href="{{ path('solve',{'id':r.id}) }}">
                      <i class="fas fa-duotone fa-check" style='font-size:20px;color:rgb(0, 255, 0)'></i>
                    </a>
                  </td>
                  {% endif %}
                </tr {% endfor %}>
                
              </tbody>
            </table>
        </div>
        {% if isPaginated %}
        <nav aria-label="  Page navigation example">
          <ul class="pagination">
               {% if page == 1 %}
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
                {% else %}
            <li class="page-item"><a class="page-link" href={{ path('DisplayReclamation', {page: page - 1, nbre: nbre}) }}>Previous</a></li>
              {% endif %}
            {% for i in range(1, nbrePage) %}
               {% if page == i %}
                   <li class="page-item active "><a class="page-link" href={{ path('DisplayReclamation', {page: i, nbre: nbre}) }}>{{i}}</a></li>
                {% else %}
                   <li class="page-item "><a class="page-link" href={{ path('DisplayReclamation', {page: i, nbre: nbre}) }}>{{i}}</a></li>
              {% endif %}
            {% endfor %}
            {% if page == nbrePage %}
            <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% else %}
            <li class="page-item"><a class="page-link" href={{ path('DisplayReclamation', {page: page + 1, nbre: nbre}) }}>Next</a></li>
            {% endif %}
          </ul>
        </nav>
        {% endif %}
    </div>
  </div>
</div>
</div>
        
  {% endblock %}